<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Profile - Creative Youth Showcase</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/style.css">
  <link rel="stylesheet" href="/src/styles/pages.css">
  <link rel="stylesheet" href="/src/styles/components.css">
  <link rel="stylesheet" href="/src/styles/responsive.css">
</head>
<body>
  <header class="main-header">
    <div class="container">
      <div class="logo">
        <a href="/">
          <img src="../public/images/logo.png" alt="Creative Youth Showcase Logo" />
          <span>Creative Youth Showcase</span>
        </a>
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/html/explore.html">Explore</a></li>
          <li><a href="/html/events.html">Events</a></li>
          <li><a href="/html/profile.html" class="resources-btn">Profile</a></li>
        </ul>
      </nav>
      <div class="auth-buttons">
        <button class="login-btn">Log In</button>
        <button class="signup-btn">Sign Up</button>
      </div>
      <button class="mobile-menu-btn">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <main>
    <section class="profile-header">
      <div class="container">
        <div class="profile-container">
          <!-- Profile information will be loaded here -->
          <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Loading profile...</p>
          </div>
        </div>
      </div>
    </section>

    <section class="profile-content">
      <div class="container">
        <div class="profile-tabs">
          <div class="tab-buttons">
            <button class="tab-button active" data-tab="portfolioTab">Portfolio</button>
            <button class="tab-button" data-tab="aboutTab">About</button>
            <button class="tab-button" data-tab="activityTab">Activity</button>
          </div>
          
          <div class="tab-content active" id="portfolioTab">
            <!-- Portfolio items will be loaded here -->
            <div class="loading-spinner">
              <div class="spinner"></div>
              <p>Loading portfolio...</p>
            </div>
          </div>
          
          <div class="tab-content" id="aboutTab">
            <div class="about-content">
              <h3>About</h3>
              <p>This section will display more detailed information about the user, such as their background, interests, and goals.</p>
              
              <h3>Education & Experience</h3>
              <div class="timeline">
                <div class="timeline-item">
                  <div class="timeline-date">2021 - Present</div>
                  <div class="timeline-content">
                    <h4>Art & Design School</h4>
                    <p>Currently studying digital art and illustration.</p>
                  </div>
                </div>
                <div class="timeline-item">
                  <div class="timeline-date">2020 - 2021</div>
                  <div class="timeline-content">
                    <h4>Community Art Program</h4>
                    <p>Participated in local youth art initiatives.</p>
                  </div>
                </div>
              </div>
              
              <h3>Interests</h3>
              <ul class="interests-list">
                <li>Digital Illustration</li>
                <li>Character Design</li>
                <li>Animation</li>
                <li>Graphic Novels</li>
              </ul>
            </div>
          </div>
          
          <div class="tab-content" id="activityTab">
            <div class="activity-content">
              <h3>Recent Activity</h3>
              <div class="activity-list">
                <!-- Activity items will be loaded here -->
                <div class="activity-item">
                  <div class="activity-icon like-icon"></div>
                  <div class="activity-details">
                    <p><strong>Liked</strong> "Urban Frequencies" by Jamie Rivera</p>
                    <span class="activity-date">2 days ago</span>
                  </div>
                </div>
                <div class="activity-item">
                  <div class="activity-icon comment-icon"></div>
                  <div class="activity-details">
                    <p><strong>Commented</strong> on "Voices Unheard" by Jordan Smith</p>
                    <span class="activity-date">5 days ago</span>
                  </div>
                </div>
                <div class="activity-item">
                  <div class="activity-icon upload-icon"></div>
                  <div class="activity-details">
                    <p><strong>Uploaded</strong> "Neon Dreams" to their portfolio</p>
                    <span class="activity-date">1 week ago</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-grid">
        <div class="footer-col">
          <h3>Creative Youth Showcase</h3>
          <p>Empowering young creators through community and exposure.</p>
          <div class="social-links">
            <!-- Social media links -->
          </div>
        </div>
        <div class="footer-col">
          <h4>Navigation</h4>
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/html/explore.html">Explore</a></li>
            <li><a href="/html/events.html">Events</a></li>
            <li><a href="#">Resources</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Legal</h4>
          <ul>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Community Guidelines</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Contact</h4>
          <p>Have questions? <a href="mailto:info@creativeyouthshowcase.com">Contact us</a></p>
        </div>
      </div>
      <div class="copyright">
        <p>&copy; 2025 Creative Youth Showcase. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Auth modals -->
  <div class="login-modal modal" id="loginModal">
    <!-- Login form will be dynamically added here -->
  </div>
  <div class="signup-modal modal" id="signupModal">
    <!-- Signup form will be dynamically added here -->
  </div>

  <script>
    // Immediate fix for profile page
    (function() {
      console.log('Inline profile fix running');
      
      // Get profile container
      const profileContainer = document.querySelector('.profile-container');
      if (!profileContainer) return;
      
      // Remove loading spinner
      const loadingSpinner = profileContainer.querySelector('.loading-spinner');
      if (loadingSpinner) {
        loadingSpinner.remove();
      }
      
      // Display  profile
      profileContainer.innerHTML = `
        <img src="https://i.pravatar.cc/150?img=3" alt="Demo User" class="profile-avatar">
        <div class="profile-info">
          <h1>kigundu</h1>
          <p class="profile-role">Creator (Visual Art, Design)</p>
          <p class="profile-bio">This is a sample profile for demonstration purposes.</p>
          <div class="profile-stats">
            <div class="stat-item">
              <div class="stat-value">3</div>
              <div class="stat-label">Works</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">45</div>
              <div class="stat-label">Likes</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">12</div>
              <div class="stat-label">Comments</div>
            </div>
          </div>
        </div>
      `;
      
      // Fix portfolio tab
      const portfolioTab = document.getElementById('portfolioTab');
      if (portfolioTab) {
        const tabLoadingSpinner = portfolioTab.querySelector('.loading-spinner');
        if (tabLoadingSpinner) {
          tabLoadingSpinner.remove();
        }
        
        portfolioTab.innerHTML = `
          <div class="portfolio-grid">
            <div class="portfolio-item">
              <div class="portfolio-content">
                <img src="https://picsum.photos/600/400?random=1" alt="Demo Artwork" class="portfolio-image">
                <div class="portfolio-info">
                  <h3 class="portfolio-title">Demo Artwork</h3>
                  <p class="portfolio-category">Visual Art</p>
                  <div class="portfolio-tags">
                    <span class="tag">Digital</span>
                    <span class="tag">Illustration</span>
                  </div>
                  <p class="portfolio-date">Posted on Mar 5, 2023</p>
                  <div class="portfolio-stats">
                    <span class="likes-count">26 likes</span>
                    <span class="comments-count">4 comments</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
      }
    })();
  </script>

  <!-- Add this at the bottom of both your upload.html and profile.html files -->
<script>
// Emergency fix for upload and profile display issues
(function() {
  console.log("Emergency portfolio fix running");
  
  // Get current page
  const currentPath = window.location.pathname;
  
  // Upload page fix
  if (currentPath.includes('upload.html')) {
    
    // Direct upload form handling
    const form = document.getElementById('uploadForm');
    if (form) {
      console.log("Attaching direct upload handler");
      
      // Replace any existing handlers
      form.onsubmit = function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        console.log("Direct upload handler running");
        
        // Get form values
        const title = document.getElementById('workTitle').value;
        const description = document.getElementById('workDescription').value;
        const category = document.getElementById('workCategory').value;
        
        if (!title || !description || category === 'select') {
          alert("Please fill in all required fields");
          return false;
        }
        
        // Create item with minimum required fields
        const newWork = {
          id: 'portfolio_' + Date.now(),
          title: title,
          description: description,
          category: category,
          tags: ['Sample'],
          imageUrl: 'https://picsum.photos/600/400?random=' + Math.floor(Math.random() * 100),
          createdAt: new Date().toISOString()
        };
        
        // Save directly to localStorage
        const portfoliosJson = localStorage.getItem('direct_portfolios');
        let portfolios = portfoliosJson ? JSON.parse(portfoliosJson) : [];
        portfolios.push(newWork);
        localStorage.setItem('direct_portfolios', JSON.stringify(portfolios));
        
        alert("Work uploaded successfully!");
        
        // Go to profile page
        window.location.href = "/html/profile.html";
        return false;
      };
    }
  }
  
  // Profile page fix
  if (currentPath.includes('profile.html')) {
    console.log("Running direct profile display fix");
    
    // Function to update profile page
    function updateProfilePage() {
      // Update profile container
      const profileContainer = document.querySelector('.profile-container');
      if (profileContainer) {
        // Remove loading spinner
        const loadingSpinner = profileContainer.querySelector('.loading-spinner');
        if (loadingSpinner) {
          loadingSpinner.remove();
        }
        
        // Show profile info
        profileContainer.innerHTML = `
          <img src="https://i.pravatar.cc/150?img=3" alt="User Profile" class="profile-avatar">
          <div class="profile-info">
            <h1>Demo User</h1>
            <p class="profile-role">Creator (Visual Art, Design)</p>
            <p class="profile-bio">This is a demo profile to showcase your creative works.</p>
            <div class="profile-stats">
              <div class="stat-item">
                <div class="stat-value" id="portfolioCount">-</div>
                <div class="stat-label">Works</div>
              </div>
              <div class="stat-item">
                <div class="stat-value">28</div>
                <div class="stat-label">Likes</div>
              </div>
              <div class="stat-item">
                <div class="stat-value">14</div>
                <div class="stat-label">Comments</div>
              </div>
            </div>
          </div>
        `;
      }
      
      // Update portfolio tab
      const portfolioTab = document.getElementById('portfolioTab');
      if (portfolioTab) {
        // Remove loading spinner
        const loadingSpinner = portfolioTab.querySelector('.loading-spinner');
        if (loadingSpinner) {
          loadingSpinner.remove();
        }
        
        // Get directly saved portfolios
        const portfoliosJson = localStorage.getItem('direct_portfolios');
        let portfolios = portfoliosJson ? JSON.parse(portfoliosJson) : [];
        
        if (portfolios.length === 0) {
          // No portfolios, show empty state
          portfolioTab.innerHTML = `
            <div class="empty-state">
              <p>No works have been added yet.</p>
              <a href="/html/upload.html" class="primary-btn">Add Your First Work</a>
            </div>
          `;
        } else {
          // Create portfolio grid
          let portfolioGridHtml = `
            <div class="portfolio-grid">
          `;
          
          // Add each portfolio
          portfolios.forEach(portfolio => {
            // Format date
            const date = new Date(portfolio.createdAt);
            const formattedDate = date.toLocaleDateString('en-US', {
              month: 'short',
              day: 'numeric',
              year: 'numeric'
            });
            
            portfolioGridHtml += `
              <div class="portfolio-item">
                <div class="portfolio-content">
                  <img src="${portfolio.imageUrl}" alt="${portfolio.title}" class="portfolio-image">
                  <div class="portfolio-info">
                    <h3 class="portfolio-title">${portfolio.title}</h3>
                    <p class="portfolio-category">${portfolio.category}</p>
                    <p class="portfolio-date">Posted on ${formattedDate}</p>
                  </div>
                </div>
              </div>
            `;
          });
          
          portfolioGridHtml += `</div>`;
          portfolioTab.innerHTML = portfolioGridHtml;
          
          // Update portfolio count
          const portfolioCount = document.getElementById('portfolioCount');
          if (portfolioCount) {
            portfolioCount.textContent = portfolios.length;
          }
        }
      }
      
      // Fix tabs functionality
      const tabButtons = document.querySelectorAll('.tab-button');
      const tabContents = document.querySelectorAll('.tab-content');
      
      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          tabButtons.forEach(btn => btn.classList.remove('active'));
          tabContents.forEach(content => content.classList.remove('active'));
          
          button.classList.add('active');
          const tabId = button.dataset.tab;
          document.getElementById(tabId).classList.add('active');
        });
      });
    }
    
    // Run immediately and after a delay
    updateProfilePage();
    setTimeout(updateProfilePage, 500);
  }
})();
</script>

  
  <script src="/src/upload-fix.js"></script>
  <Script src="/src/profile-fix.js"></Script>
  <script src="/src/button-fix.js"></script>
<script src="/src/json-fix.js"></script>
  <script src="/src/data-fix.js"></script>
  <script src="/src/auth-storage-fix.js"></script>
  <script type="module" src="./src/main.js"></script>
</body>
</html>